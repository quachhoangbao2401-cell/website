<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Index Calculator</title>
    
    <!-- ========== CSS STYLES ========== -->
    <style>
        /* === RESET & BASE STYLES === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e8f5e9 0%, #e3f2fd 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        /* === CONTAINER === */
        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* === HEADER === */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px 20px;
            background: linear-gradient(135deg, #1e88e5 0%, #43a047 100%);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(30, 136, 229, 0.3);
        }

        header h1 {
            color: white;
            font-size: 2.2rem;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        header p {
            color: rgba(255, 255, 255, 0.9);
            margin-top: 10px;
            font-size: 1.1rem;
        }

        /* === CALCULATOR SECTIONS === */
        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .calc-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .calc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .calc-card h2 {
            color: #1e88e5;
            font-size: 1.3rem;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #e3f2fd;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .calc-card h2 .icon {
            font-size: 1.5rem;
        }

        /* === FORM ELEMENTS === */
        .form-group {
            margin-bottom: 18px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #424242;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .form-group input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .form-group input:focus {
            outline: none;
            border-color: #1e88e5;
            background: white;
            box-shadow: 0 0 0 4px rgba(30, 136, 229, 0.1);
        }

        .form-group input::placeholder {
            color: #9e9e9e;
        }

        /* === BUTTONS === */
        .btn {
            width: 100%;
            padding: 14px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e88e5 0%, #1565c0 100%);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(30, 136, 229, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%);
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(67, 160, 71, 0.4);
        }

        .btn-info {
            background: linear-gradient(135deg, #00acc1 0%, #00838f 100%);
            color: white;
        }

        .btn-info:hover {
            background: linear-gradient(135deg, #00838f 0%, #006064 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 172, 193, 0.4);
        }

        /* === RESULT BOXES === */
        .result-box {
            margin-top: 20px;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-box.show {
            display: block;
        }

        .result-box.positive {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border: 2px solid #4caf50;
        }

        .result-box.negative {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border: 2px solid #f44336;
        }

        .result-box.neutral {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border: 2px solid #2196f3;
        }

        .result-box.warning {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
            border: 2px solid #ff9800;
        }

        .result-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .result-label {
            font-size: 0.95rem;
            color: #616161;
        }

        .result-status {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .status-danger {
            background: #f44336;
            color: white;
        }

        .status-warning {
            background: #ff9800;
            color: white;
        }

        .status-success {
            background: #4caf50;
            color: white;
        }

        /* === FORMULA INFO === */
        .formula-info {
            background: #f5f5f5;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.85rem;
            color: #757575;
            border-left: 4px solid #1e88e5;
        }

        .formula-info code {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            color: #1565c0;
            font-weight: 600;
        }

        /* === FFI FULL WIDTH === */
        .full-width {
            grid-column: 1 / -1;
        }

        /* === FOOTER === */
        footer {
            text-align: center;
            padding: 25px;
            color: #757575;
            font-size: 0.9rem;
        }

        footer a {
            color: #1e88e5;
            text-decoration: none;
        }

        /* === RESPONSIVE === */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.7rem;
            }

            header p {
                font-size: 1rem;
            }

            .calc-card {
                padding: 20px;
            }

            .calc-card h2 {
                font-size: 1.1rem;
            }

            .result-value {
                font-size: 1.6rem;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 15px;
            }

            header {
                padding: 25px 15px;
            }

            header h1 {
                font-size: 1.4rem;
            }

            .calculator-grid {
                gap: 20px;
            }

            .form-group input {
                padding: 12px 14px;
            }

            .btn {
                padding: 12px 20px;
            }
        }

        /* === HELPER CLASSES === */
        .text-positive { color: #2e7d32; }
        .text-negative { color: #c62828; }
        .text-neutral { color: #1565c0; }
        .text-warning { color: #ef6c00; }
    </style>
</head>
<body>
    <!-- ========== MAIN CONTAINER ========== -->
    <div class="container">
        
        <!-- === HEADER === -->
        <header>
            <h1>üí∞ Financial Index Calculator</h1>
            <p>C√¥ng c·ª• t√≠nh to√°n ch·ªâ s·ªë t√†i ch√≠nh c√° nh√¢n</p>
        </header>

        <!-- === CALCULATOR CARDS === -->
        <div class="calculator-grid">
            
            <!-- === 1. TI·∫æT KI·ªÜM H√ÄNG TH√ÅNG === -->
            <div class="calc-card">
                <h2><span class="icon">üíµ</span> Ti·∫øt ki·ªám h√†ng th√°ng</h2>
                
                <!-- C√¥ng th·ª©c -->
                <div class="formula-info">
                    <code>Ti·∫øt ki·ªám = Thu nh·∫≠p - Chi ti√™u</code>
                </div>

                <!-- Form nh·∫≠p li·ªáu -->
                <div class="form-group">
                    <label for="income">Thu nh·∫≠p h√†ng th√°ng (VNƒê)</label>
                    <input type="number" id="income" placeholder="VD: 20000000" min="0">
                </div>

                <div class="form-group">
                    <label for="expense">Chi ti√™u h√†ng th√°ng (VNƒê)</label>
                    <input type="number" id="expense" placeholder="VD: 15000000" min="0">
                </div>

                <button class="btn btn-primary" onclick="calculateSavings()">
                    T√≠nh ti·∫øt ki·ªám
                </button>

                <!-- K·∫øt qu·∫£ -->
                <div id="savings-result" class="result-box">
                    <div class="result-value" id="savings-value">0 VNƒê</div>
                    <div class="result-label" id="savings-label">S·ªë ti·ªÅn ti·∫øt ki·ªám m·ªói th√°ng</div>
                </div>
            </div>

            <!-- === 2. TH·ªúI GIAN ƒê·∫†T M·ª§C TI√äU === -->
            <div class="calc-card">
                <h2><span class="icon">üéØ</span> Th·ªùi gian ƒë·∫°t m·ª•c ti√™u</h2>
                
                <!-- C√¥ng th·ª©c -->
                <div class="formula-info">
                    <code>S·ªë th√°ng = M·ª•c ti√™u / Ti·∫øt ki·ªám</code>
                </div>

                <!-- Form nh·∫≠p li·ªáu -->
                <div class="form-group">
                    <label for="goal">M·ª•c ti√™u t√†i ch√≠nh (VNƒê)</label>
                    <input type="number" id="goal" placeholder="VD: 100000000" min="0">
                </div>

                <div class="form-group">
                    <label for="monthly-saving">Ti·∫øt ki·ªám h√†ng th√°ng (VNƒê)</label>
                    <input type="number" id="monthly-saving" placeholder="VD: 5000000" min="0">
                </div>

                <button class="btn btn-success" onclick="calculateGoalTime()">
                    T√≠nh th·ªùi gian
                </button>

                <!-- K·∫øt qu·∫£ -->
                <div id="goal-result" class="result-box">
                    <div class="result-value" id="goal-value">0 th√°ng</div>
                    <div class="result-label" id="goal-label">Th·ªùi gian c·∫ßn thi·∫øt</div>
                </div>
            </div>

            <!-- === 3. CH·ªà S·ªê T·ª∞ DO T√ÄI CH√çNH (FFI) === -->
            <div class="calc-card full-width">
                <h2><span class="icon">üèÜ</span> Ch·ªâ s·ªë T·ª± do T√†i ch√≠nh (FFI)</h2>
                
                <!-- C√¥ng th·ª©c -->
                <div class="formula-info">
                    <code>FFI = T√†i s·∫£n hi·ªán c√≥ / Chi ti√™u h√†ng th√°ng</code>
                    <br><br>
                    üìä <strong>Ph√¢n lo·∫°i:</strong> 
                    FFI &lt; 6 ‚Üí Ch∆∞a an to√†n | 
                    6-12 ‚Üí An to√†n c∆° b·∫£n | 
                    &gt; 12 ‚Üí T·ª± do t√†i ch√≠nh t·ªët
                </div>

                <!-- Form nh·∫≠p li·ªáu - Grid layout -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div class="form-group">
                        <label for="assets">T√†i s·∫£n hi·ªán c√≥ (VNƒê)</label>
                        <input type="number" id="assets" placeholder="VD: 500000000" min="0">
                    </div>

                    <div class="form-group">
                        <label for="monthly-expense">Chi ti√™u h√†ng th√°ng (VNƒê)</label>
                        <input type="number" id="monthly-expense" placeholder="VD: 15000000" min="0">
                    </div>
                </div>

                <button class="btn btn-info" onclick="calculateFFI()">
                    T√≠nh ch·ªâ s·ªë FFI
                </button>

                <!-- K·∫øt qu·∫£ -->
                <div id="ffi-result" class="result-box">
                    <div class="result-value" id="ffi-value">0</div>
                    <div class="result-label">Ch·ªâ s·ªë T·ª± do T√†i ch√≠nh</div>
                    <div class="result-status" id="ffi-status">ƒêang t√≠nh...</div>
                    <div class="result-label" id="ffi-meaning" style="margin-top: 15px; font-style: italic;"></div>
                </div>
            </div>

        </div>

        <!-- === FOOTER === -->
        <footer>
            <p>¬© 2024 Financial Index Calculator | ƒê∆∞·ª£c t·∫°o v·ªõi ‚ù§Ô∏è</p>
            <p>S·ª≠ d·ª•ng mi·ªÖn ph√≠ - <a href="#">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</a></p>
        </footer>

    </div>

    <!-- ========== JAVASCRIPT ========== -->
    <script>
        /**
         * ===================================
         * FINANCIAL INDEX CALCULATOR
         * ===================================
         * C√°c h√†m t√≠nh to√°n ch·ªâ s·ªë t√†i ch√≠nh c√° nh√¢n
         */

        // === HELPER FUNCTION: Format s·ªë ti·ªÅn VNƒê ===
        function formatCurrency(number) {
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND',
                maximumFractionDigits: 0
            }).format(number);
        }

        // === HELPER FUNCTION: Format s·ªë v·ªõi d·∫•u ph·∫©y ===
        function formatNumber(number) {
            return new Intl.NumberFormat('vi-VN').format(number);
        }

        // === 1. T√çNH TI·∫æT KI·ªÜM H√ÄNG TH√ÅNG ===
        function calculateSavings() {
            // L·∫•y gi√° tr·ªã t·ª´ input
            const income = parseFloat(document.getElementById('income').value) || 0;
            const expense = parseFloat(document.getElementById('expense').value) || 0;

            // T√≠nh to√°n
            const savings = income - expense;

            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            const resultBox = document.getElementById('savings-result');
            const resultValue = document.getElementById('savings-value');
            const resultLabel = document.getElementById('savings-label');

            // X√≥a class c≈© v√† th√™m class m·ªõi d·ª±a tr√™n k·∫øt qu·∫£
            resultBox.className = 'result-box show';
            
            if (savings > 0) {
                resultBox.classList.add('positive');
                resultValue.className = 'result-value text-positive';
                resultLabel.textContent = '‚úÖ B·∫°n ƒëang ti·∫øt ki·ªám ƒë∆∞·ª£c m·ªói th√°ng';
            } else if (savings < 0) {
                resultBox.classList.add('negative');
                resultValue.className = 'result-value text-negative';
                resultLabel.textContent = '‚ö†Ô∏è B·∫°n ƒëang chi ti√™u v∆∞·ª£t thu nh·∫≠p!';
            } else {
                resultBox.classList.add('neutral');
                resultValue.className = 'result-value text-neutral';
                resultLabel.textContent = 'üí° Thu chi c√¢n b·∫±ng, h√£y c·ªë g·∫Øng ti·∫øt ki·ªám h∆°n';
            }

            resultValue.textContent = formatCurrency(savings);
        }

        // === 2. T√çNH TH·ªúI GIAN ƒê·∫†T M·ª§C TI√äU ===
        function calculateGoalTime() {
            // L·∫•y gi√° tr·ªã t·ª´ input
            const goal = parseFloat(document.getElementById('goal').value) || 0;
            const monthlySaving = parseFloat(document.getElementById('monthly-saving').value) || 0;

            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            const resultBox = document.getElementById('goal-result');
            const resultValue = document.getElementById('goal-value');
            const resultLabel = document.getElementById('goal-label');

            resultBox.className = 'result-box show';

            // Ki·ªÉm tra ƒëi·ªÅu ki·ªán h·ª£p l·ªá
            if (monthlySaving <= 0) {
                resultBox.classList.add('negative');
                resultValue.className = 'result-value text-negative';
                resultValue.textContent = 'Kh√¥ng th·ªÉ t√≠nh';
                resultLabel.textContent = '‚ö†Ô∏è C·∫ßn c√≥ s·ªë ti·ªÅn ti·∫øt ki·ªám l·ªõn h∆°n 0';
                return;
            }

            if (goal <= 0) {
                resultBox.classList.add('warning');
                resultValue.className = 'result-value text-warning';
                resultValue.textContent = 'Ch∆∞a c√≥ m·ª•c ti√™u';
                resultLabel.textContent = 'üí° Vui l√≤ng nh·∫≠p m·ª•c ti√™u t√†i ch√≠nh c·ªßa b·∫°n';
                return;
            }

            // T√≠nh to√°n
            const months = Math.ceil(goal / monthlySaving);
            const years = Math.floor(months / 12);
            const remainingMonths = months % 12;

            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            resultBox.classList.add('positive');
            resultValue.className = 'result-value text-positive';
            
            if (years > 0) {
                resultValue.textContent = `${years} nƒÉm ${remainingMonths} th√°ng`;
            } else {
                resultValue.textContent = `${months} th√°ng`;
            }

            resultLabel.textContent = `üéØ ƒê·ªÉ ƒë·∫°t m·ª•c ti√™u ${formatCurrency(goal)}`;
        }

        // === 3. T√çNH CH·ªà S·ªê T·ª∞ DO T√ÄI CH√çNH (FFI) ===
        function calculateFFI() {
            // L·∫•y gi√° tr·ªã t·ª´ input
            const assets = parseFloat(document.getElementById('assets').value) || 0;
            const monthlyExpense = parseFloat(document.getElementById('monthly-expense').value) || 0;

            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            const resultBox = document.getElementById('ffi-result');
            const resultValue = document.getElementById('ffi-value');
            const resultStatus = document.getElementById('ffi-status');
            const resultMeaning = document.getElementById('ffi-meaning');

            resultBox.className = 'result-box show';

            // Ki·ªÉm tra ƒëi·ªÅu ki·ªán h·ª£p l·ªá
            if (monthlyExpense <= 0) {
                resultBox.classList.add('warning');
                resultValue.className = 'result-value text-warning';
                resultValue.textContent = 'Kh√¥ng th·ªÉ t√≠nh';
                resultStatus.className = 'result-status status-warning';
                resultStatus.textContent = 'Thi·∫øu d·ªØ li·ªáu';
                resultMeaning.textContent = 'Vui l√≤ng nh·∫≠p chi ti√™u h√†ng th√°ng l·ªõn h∆°n 0';
                return;
            }

            // T√≠nh to√°n FFI
            const ffi = assets / monthlyExpense;

            // Hi·ªÉn th·ªã gi√° tr·ªã FFI
            resultValue.textContent = ffi.toFixed(2);

            // Ph√¢n lo·∫°i v√† hi·ªÉn th·ªã tr·∫°ng th√°i
            if (ffi < 6) {
                // FFI < 6: Ch∆∞a an to√†n
                resultBox.classList.add('negative');
                resultValue.className = 'result-value text-negative';
                resultStatus.className = 'result-status status-danger';
                resultStatus.textContent = '‚ö†Ô∏è Ch∆∞a an to√†n';
                resultMeaning.textContent = `T√†i s·∫£n c·ªßa b·∫°n ch·ªâ ƒë·ªß chi ti√™u trong ${ffi.toFixed(1)} th√°ng. C·∫ßn t√≠ch l≈©y th√™m ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n t√†i ch√≠nh.`;
            } else if (ffi >= 6 && ffi <= 12) {
                // FFI 6-12: An to√†n c∆° b·∫£n
                resultBox.classList.add('warning');
                resultValue.className = 'result-value text-warning';
                resultStatus.className = 'result-status status-warning';
                resultStatus.textContent = '‚úì An to√†n c∆° b·∫£n';
                resultMeaning.textContent = `T√†i s·∫£n c·ªßa b·∫°n ƒë·ªß chi ti√™u trong ${ffi.toFixed(1)} th√°ng. B·∫°n c√≥ qu·ªπ d·ª± ph√≤ng t·ªët, h√£y ti·∫øp t·ª•c t√≠ch l≈©y!`;
            } else {
                // FFI > 12: T·ª± do t√†i ch√≠nh t·ªët
                resultBox.classList.add('positive');
                resultValue.className = 'result-value text-positive';
                resultStatus.className = 'result-status status-success';
                resultStatus.textContent = 'üèÜ T·ª± do t√†i ch√≠nh t·ªët';
                resultMeaning.textContent = `Tuy·ªát v·ªùi! T√†i s·∫£n c·ªßa b·∫°n ƒë·ªß chi ti√™u trong ${ffi.toFixed(1)} th√°ng (${(ffi/12).toFixed(1)} nƒÉm). B·∫°n ƒëang tr√™n ƒë∆∞·ªùng t·ª± do t√†i ch√≠nh!`;
            }
        }

        // === KH·ªûI T·∫†O: Th√™m s·ª± ki·ªán Enter cho c√°c input ===
        document.addEventListener('DOMContentLoaded', function() {
            // Nh√≥m 1: Ti·∫øt ki·ªám h√†ng th√°ng
            document.getElementById('income').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateSavings();
            });
            document.getElementById('expense').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateSavings();
            });

            // Nh√≥m 2: Th·ªùi gian ƒë·∫°t m·ª•c ti√™u
            document.getElementById('goal').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateGoalTime();
            });
            document.getElementById('monthly-saving').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateGoalTime();
            });

            // Nh√≥m 3: Ch·ªâ s·ªë FFI
            document.getElementById('assets').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateFFI();
            });
            document.getElementById('monthly-expense').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') calculateFFI();
            });
        });
    </script>
</body>
</html>
